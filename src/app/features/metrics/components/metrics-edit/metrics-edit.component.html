<div class="box" id="new-metric">
    <h1>
      {{editMode ? "Edit Metric" : "New Metric"}}
    </h1>
    <form class="form" action="" [formGroup]="metricForm" (ngSubmit)="save()">
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" id="name"
          formControlName="name"
        class="form-control">
      </div>
      <div class="form-group">
        <label for="code">Code</label>
        <input type="text" id="code"
          formControlName="code"
        class="form-control">
      </div>
      <div class="form-group">
          <label for="description">Description</label>
          <textarea id="description"
            formControlName="description"
          class="form-control"></textarea>
      </div>
      <div class="form-group">
        <label for="url">Reference Url</label>
        <input type="text" id="refUrl"
          formControlName="refUrl"
        class="form-control"/>
    </div>
      <div class="form-group">
          <label for="unit">Unit</label>
          <input type="text" id="unit"
            formControlName="unit"
          class="form-control"/>
      </div>
      <div id="value-container">
        <div class="form-group" id="min-val">
          <label for="minVal">Default Min Value</label>
          <input type="number" 
            formControlName="minVal"
          class="form-control"/>
      </div>
      <div class="form-group" id="max-val">
        <label for="maxVal">Default Max Value</label>
        <input type="number" 
          formControlName="maxVal"
          class="form-control"/>
      </div>

    </div>
    <div class="btn-container">
      <button mat-flat-button color="primary"
        (click)="formUnsaved($event)"
      >Cancel</button>
      <button mat-flat-button color="accent" disabled 
        type="submit" 
        [disabled]='!metricForm.valid'
        *ngIf="'update' | able: 'Metric'"
      >Save</button>
    </div>
  </form>
  <div id="metric-popup" class="popup hidden">
    <div id="metric-popup-box" class="box popup-box">
      <p>Your new metric will not be saved.</p>
      <p>Would you like to continue?</p>
      <div class="btn-container">
        <button mat-flat-button color="primary" 
          (click)="closePopup()"
        >Cancel</button>
        <button mat-flat-button color="accent"
          (click)="cancel()"  
        >Continue</button>
      </div>
    </div>
  </div>
</div>