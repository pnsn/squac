<ng-container *ngIf="error && !channelGroup; else hasChannelGroup">
  <p> Could not load channel group.</p>
</ng-container>
<ng-template #hasChannelGroup>
  <div id="title">
    <div id="channel-group-info">
      <h2>{{channelGroup.name}}</h2>
      <span >
        by {{channelGroup.owner | user}} ({{channelGroup.orgId | organization}})
      </span>  
    </div>
  
    <div id="button-container">
      <button 
      *ngIf="'delete' | able: channelGroup"
      mat-icon-button 
      color="warn"
      class="add-btn"
      (click)="onDelete()"
      matTooltip="Delete channel group"
      aria-label="Button that deletes the channel group"
      > 
       <mat-icon>delete</mat-icon>
    </button>
      <button 
        *ngIf="'update' | able: channelGroup"
        mat-icon-button 
        color="primary"
        class="add-btn"
        (click)="editChannelGroup()"
        matTooltip="Edit channel group"
        aria-label="Button that navigates to edit channel group page"
      > 
      <mat-icon>edit</mat-icon>
    </button>
    <button 
      *ngIf="'update' | able: channelGroup"
      mat-icon-button 
      class="add-btn"
      (click)="closeChannelGroup()"
      matTooltip="Close channel group"
      aria-label="Button that navigates to all channels"
    > 
    <mat-icon>close</mat-icon>
    </button>
    </div>
  </div>
  
  
  <div id="channel-group-container" class="box">
    <div id="map-container">
      <app-channel-group-map [selectedChannels]="channelGroup.channels" [editPage]=false></app-channel-group-map>
    </div>
    <div id="channels-container">
      <ngx-datatable
        id="channel-table"
        class="material"
        [rows]="channelGroup.channels"
        [columnMode]="ColumnMode.flex"
        [headerHeight]="30"
        [footerHeight]="50"
        [rowHeight]="23"
        [scrollbarV]="50"
      >
      <ngx-datatable-column name="Network" [draggable]="false" [sortable]="true" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row.networkCode | uppercase }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Station" width="auto" [draggable]="false" [sortable]="false" [flexGrow]="1">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{ row.stationCode | uppercase }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Channel" width="auto" [draggable]="false" [sortable]="false" [flexGrow]="1">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{ row.code | uppercase }}
        </ng-template>
      </ngx-datatable-column>
    
      <ngx-datatable-column name="Location" width="auto" [draggable]="false" [sortable]="false" [flexGrow]="1">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{ row.loc }}
        </ng-template>
      </ngx-datatable-column>
  
      <ngx-datatable-column name="Name" width="auto" [draggable]="false" [sortable]="false" [flexGrow]="3">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{ row.name }}
        </ng-template>
      </ngx-datatable-column>
      </ngx-datatable>
    </div>
  </div>
  
</ng-template>

