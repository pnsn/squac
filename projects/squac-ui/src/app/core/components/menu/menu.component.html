<div [ngClass]="{ column: isSidenav, row: !isSidenav }">
  <ng-container *ngTemplateOutlet="menuContent"></ng-container>
</div>

<ng-template #menuContent>
  <ng-container *ngIf="user">
    <a
      mat-button
      [routerLink]="['/dashboards']"
      routerLinkActive="active"
      *ngIf="'read' | able: 'Dashboard'"
    >Dashboards</a>
    <a
      mat-button
      [routerLink]="['/monitors']"
      routerLinkActive="active"
      *ngIf="'read' | able: 'Monitor'"
    >Monitors</a>
    <a
      mat-button
      [routerLink]="['/channel-groups']"
      routerLinkActive="active"
      *ngIf="'read' | able: 'ChannelGroup'"
    >Channel Groups</a>
    <a
      mat-button
      [routerLink]="['/metrics']"
      routerLinkActive="active"
      *ngIf="'read' | able: 'Metric'"
    >Metrics</a>
    <mat-menu
      #appMenu="matMenu"
      class="dense-menu"
    >
      <a
        mat-menu-item
        [routerLink]="['/user']"
        routerLinkActive="active"
      >User Settings</a>
      <a
        mat-menu-item
        [routerLink]="['/user', 'organizations', user.orgId]"
        routerLinkActive="active"
      >Organization Settings</a>
      <button
        mat-menu-item
        (click)="logout()"
      >Log Out</button>
    </mat-menu>

    <a
      mat-button
      [matMenuTriggerFor]="appMenu"
    >Settings</a>
  </ng-container>
</ng-template>